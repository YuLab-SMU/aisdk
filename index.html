<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>AI SDK for R - Unified Interface for AI Model Providers • aisdk</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="AI SDK for R - Unified Interface for AI Model Providers">
<meta name="description" content="A production-grade AI SDK for R featuring a layered architecture (Specification, Utilities, Providers, Core), middleware support, robust error handling with exponential backoff, support for multiple AI model providers (OpenAI, Anthropic, etc.), local SLM inference, distributed MCP ecosystem, autonomous data science pipelines with self-healing code execution, and a global skill store for sharing AI capabilities.">
<meta property="og:description" content="A production-grade AI SDK for R featuring a layered architecture (Specification, Utilities, Providers, Core), middleware support, robust error handling with exponential backoff, support for multiple AI model providers (OpenAI, Anthropic, etc.), local SLM inference, distributed MCP ecosystem, autonomous data science pipelines with self-healing code execution, and a global skill store for sharing AI capabilities.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">aisdk</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/agents.html">Building Agents</a></li>
    <li><a class="dropdown-item" href="articles/enterprise.html">Enterprise Operations</a></li>
    <li><a class="dropdown-item" href="articles/get_started.html">Get Started with aisdk</a></li>
    <li><a class="dropdown-item" href="articles/integrations.html">Shiny Integration</a></li>
    <li><a class="dropdown-item" href="articles/mcp.html">Connectivity (MCP)</a></li>
    <li><a class="dropdown-item" href="articles/sessions.html">Chat Sessions</a></li>
    <li><a class="dropdown-item" href="articles/skills.html">Skill System</a></li>
    <li><a class="dropdown-item" href="articles/structured_outputs.html">Structured Outputs</a></li>
    <li><a class="dropdown-item" href="articles/tools.html">Using Tools</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/YuLab-SMU/aisdk/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="aisdk-the-ai-sdk-for-r">aisdk: The AI SDK for R<a class="anchor" aria-label="anchor" href="#aisdk-the-ai-sdk-for-r"></a>
</h1></div>
<!-- badges: start -->

<p><strong>aisdk</strong> is a production-grade framework for building AI-powered applications in R. It provides a unified interface for multiple model providers (OpenAI, Anthropic), a powerful agentic system, and seamless integration with the R ecosystem (Shiny, RMarkdown, Quarto).</p>
<div class="section level2">
<h2 id="features">Features<a class="anchor" aria-label="anchor" href="#features"></a>
</h2>
<ul>
<li>
<strong>Unified API</strong>: Switch between OpenAI and Anthropic models with a single line of code.</li>
<li>
<strong>Agentic Framework</strong>: Built-in support for <strong>Agents</strong>, <strong>Tasks</strong>, and <strong>Flows</strong>.
<ul>
<li>
<code>CoderAgent</code>: Writes and edits code.</li>
<li>
<code>PlannerAgent</code>: Breaks down complex problems.</li>
</ul>
</li>
<li>
<strong>Tool System</strong>: Turn any R function into an AI-callable tool with automatic schema generation.</li>
<li>
<strong>Structured Outputs</strong>: Generate type-safe JSON, data frames, and complex objects.</li>
<li>
<strong>Chat Sessions</strong>: Stateful conversation management with history tracking.</li>
<li>
<strong>Enterprise Ops</strong>: Telemetry, hooks, cost tracking, and MCP (Model Context Protocol) support.</li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of aisdk from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"YuLab-SMU/aisdk"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="quick-start">Quick Start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<div class="section level3">
<h3 id="basic-text-generation">Basic Text Generation<a class="anchor" aria-label="anchor" href="#basic-text-generation"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/YuLab-SMU/aisdk" class="external-link">aisdk</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/file.edit.html" class="external-link">file.edit</a></span><span class="op">(</span><span class="st">".env"</span><span class="op">)</span></span>
<span><span class="co">## set OPENAI_API_KEY\OPENAI_BASE_URL\OPENAI_MODEL to .env file.</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/gaborcsardi/dotenv" class="external-link">dotenv</a></span><span class="op">)</span></span>
<span><span class="fu">load_dot_env</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a model provider and model</span></span>
<span><span class="va">provider</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_openai.html">create_openai</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">model</span> <span class="op">&lt;-</span> <span class="va">provider</span><span class="op">$</span><span class="fu">language_model</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"OPENAI_MODEL"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate text</span></span>
<span><span class="va">response</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/stream_text.html">stream_text</a></span><span class="op">(</span><span class="va">model</span>, <span class="st">"Explain the concept of 'tidy evaluation' in R."</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/render_text.html">render_text</a></span><span class="op">(</span><span class="va">response</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="building-an-agent">Building an Agent<a class="anchor" aria-label="anchor" href="#building-an-agent"></a>
</h3>
<p>Create an agent with tools to solve tasks:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define a calculator tool</span></span>
<span><span class="va">calc_tool</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/tool_factory.html">tool</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"add_numbers"</span>,</span>
<span>  description <span class="op">=</span> <span class="st">"Adds two numbers together"</span>,</span>
<span>  parameters <span class="op">=</span> <span class="fu"><a href="reference/z_object.html">z_object</a></span><span class="op">(</span></span>
<span>    a <span class="op">=</span> <span class="fu"><a href="reference/z_number.html">z_number</a></span><span class="op">(</span><span class="st">"First number"</span><span class="op">)</span>,</span>
<span>    b <span class="op">=</span> <span class="fu"><a href="reference/z_number.html">z_number</a></span><span class="op">(</span><span class="st">"Second number"</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  execute <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">args</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">args</span><span class="op">$</span><span class="va">a</span> <span class="op">+</span> <span class="va">args</span><span class="op">$</span><span class="va">b</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create an agent</span></span>
<span><span class="va">agent</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_agent.html">create_agent</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"Mathematician"</span>,</span>
<span>  description <span class="op">=</span> <span class="st">"Solve math problems accurately"</span>,</span>
<span>  system_prompt <span class="op">=</span> <span class="st">"You are a helpful mathematician."</span>,</span>
<span>  tools <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">calc_tool</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run the agent</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="va">agent</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span><span class="st">"What is 1234 + 5678?"</span>, model <span class="op">=</span> <span class="va">model</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or stream the response</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="va">agent</span><span class="op">$</span><span class="fu">stream</span><span class="op">(</span><span class="st">"What is 1234 + 5678?"</span>, model <span class="op">=</span> <span class="va">model</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/render_text.html">render_text</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="skills-system">Skills System<a class="anchor" aria-label="anchor" href="#skills-system"></a>
</h3>
<p>The Skills system allows you to package specialized knowledge and tools that can be dynamically loaded by agents. This saves context window space and keeps your agents focused.</p>
<p><strong>Use the Demo Skill</strong>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Initialize the registry and tools</span></span>
<span><span class="va">registry</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_skill_registry.html">create_skill_registry</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"skills"</span>, package <span class="op">=</span> <span class="st">"aisdk"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">skill_tools</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_skill_tools.html">create_skill_tools</a></span><span class="op">(</span><span class="va">registry</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create an agent</span></span>
<span><span class="va">analyst</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_agent.html">create_agent</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"DataAnalyst"</span>,</span>
<span>  description <span class="op">=</span> <span class="st">"A data analysis agent"</span>,</span>
<span>  system_prompt <span class="op">=</span> <span class="st">"You are an expert data analyst. Use the available skills to help the user."</span>,</span>
<span>  tools <span class="op">=</span> <span class="va">skill_tools</span> <span class="co"># &lt;--- Pass the list of tools, NOT the registry</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run the agent</span></span>
<span><span class="va">analyst</span><span class="op">$</span><span class="fu">stream</span><span class="op">(</span><span class="st">"Load the data_analysis skill and summarize the mtcars dataset."</span>, model <span class="op">=</span> <span class="va">model</span><span class="op">)</span></span></code></pre></div>
<p><strong>Example Output</strong>:</p>
<pre><code>── ❯ Thinking...
─
─  The user wants me to:
─  1. Load the data_analysis skill
─  2. Summarize the mtcars dataset
─
─  Let me start by loading the skill to see what scripts are available.
─
── ✔ Done thinking (5 lines)

  (ℹ Hide with options(aisdk.show_thinking = FALSE))


I'll help you load the data_analysis skill and summarize the mtcars dataset. Let me start by loading the skill.
ℹ Calling tool load_skill {"skill_name":"data_analysis"}
✔ Tool load_skill returned: "# Instructions Use the `analyze.R` script to analyze datasets.  ## Available Datasets - iris: Fisher's Iris dataset (150 observations, 5
variables) - mtcars: Motor Trend Car Road Tests (32 observat..."── ❯ Thinking...
─
─  Now I can see that the data_analysis skill has an analyze.R script that can analyze datasets. The mtcars dataset is available, and I should use the analyze.R script with the dataset parameter set to "mtcars". I'll use the default top_n value of 5 as shown in the example.
─
── ✔ Done thinking (1 lines)

  (ℹ Hide with options(aisdk.show_thinking = FALSE))


▶ Calling tool execute_skill_script {"skill_name":"data_analysis","script_name":"analyze.R","args":{"dataset":"mtcars","top_n":5}}
✔ Tool execute_skill_script returned: "Dataset: mtcars Dimensions: 32 rows x 11 cols Columns: mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb Numeric Summary:
mpg: min=10.40, max=33.90, mean=20.09 cyl: min=4.00, max=8.00, mean=..."── ❯ Thinking...
─
─  Great! I've successfully loaded the data_analysis skill and analyzed the mtcars dataset. The output provides a comprehensive summary of the dataset including:
─
─  1. Dataset dimensions (32 rows x 11 columns)
─  2. Column names
─  3. Numeric summary statistics (min, max, mean) for all variables
─  4. First 5 rows of the dataset
─
─  This gives a good overview of the mtcars dataset, which contains data about Motor Trend car road tests with various performance and design characteristics for 32 different car models.
─
── ✔ Done thinking (8 lines)

  (ℹ Hide with options(aisdk.show_thinking = FALSE))


I've successfully loaded the data_analysis skill and analyzed the mtcars dataset. Here's a summary:


── Dataset Overview ──- Name: mtcars (Motor Trend Car Road Tests)
- Dimensions: 32 observations × 11 variables
- Variables: mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb

── Key Statistics Summary ──
| Variable | Min   | Max    | Mean   | Description                     |
| -------- | ----- | ------ | ------ | ------------------------------- |
| mpg      | 10.40 | 33.90  | 20.09  | Miles per gallon                |
| cyl      | 4.00  | 8.00   | 6.19   | Number of cylinders             |
| disp     | 71.10 | 472.00 | 230.72 | Displacement (cu.in.)           |
| hp       | 52.00 | 335.00 | 146.69 | Gross horsepower                |
| drat     | 2.76  | 4.93   | 3.60   | Rear axle ratio                 |
| wt       | 1.51  | 5.42   | 3.22   | Weight (1000 lbs)               |
| qsec     | 14.50 | 22.90  | 17.85  | 1/4 mile time                   |
| vs       | 0.00  | 1.00   | 0.44   | Engine type (0=V, 1=Straight)   |
| am       | 0.00  | 1.00   | 0.41   | Transmission (0=Auto, 1=Manual) |
| gear     | 3.00  | 5.00   | 3.69   | Number of forward gears         |
| carb     | 1.00  | 8.00   | 2.81   | Number of carburetors           |

── Sample Data (First 5 Rows) ──The dataset includes classic cars like the Mazda RX4 (21.0 mpg), Datsun 710 (22.8 mpg), and Hornet models, showing a range of performance characteristics from fuel economy to horsepower and weight.

This dataset is commonly used for regression analysis and exploring relationships between car design parameters and fuel efficiency.</code></pre>
</div>
</div>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a>
</h2>
<p>Full documentation is available at <a href="https://YuLab-SMU.github.io/aisdk/">https://YuLab-SMU.github.io/aisdk/</a>.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/YuLab-SMU/aisdk/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/YuLab-SMU/aisdk/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing aisdk</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Yonghe Xia <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/YuLab-SMU/aisdk/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/YuLab-SMU/aisdk/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://opensource.org/licenses/MIT" class="external-link"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></li>
<li><a href="https://YuLab-SMU.github.io/aisdk/"><img src="https://github.com/YuLab-SMU/aisdk/actions/workflows/pkgdown.yaml/badge.svg" alt="pkgdown"></a></li>
<li><a href="https://deepwiki.com/YuLab-SMU/aisdk" class="external-link"><img src="https://deepwiki.com/badge.svg" alt="Ask DeepWiki"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Yonghe Xia.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
