% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/shiny_server.R
\name{ChatManager}
\alias{ChatManager}
\title{Chat Manager}
\description{
Manages asynchronous chat generation using background processes.
Handles IPC for streaming tokens and tool call bridging.
}
\keyword{internal}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{process}}{The background callr process}

\item{\code{ipc_dir}}{Temp directory for inter-process communication}

\item{\code{last_read_pos}}{Last position read from output file}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-ChatManager-new}{\code{ChatManager$new()}}
\item \href{#method-ChatManager-start_generation}{\code{ChatManager$start_generation()}}
\item \href{#method-ChatManager-poll}{\code{ChatManager$poll()}}
\item \href{#method-ChatManager-resolve_tool}{\code{ChatManager$resolve_tool()}}
\item \href{#method-ChatManager-cleanup}{\code{ChatManager$cleanup()}}
\item \href{#method-ChatManager-clone}{\code{ChatManager$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ChatManager-new"></a>}}
\if{latex}{\out{\hypertarget{method-ChatManager-new}{}}}
\subsection{Method \code{new()}}{
Initialize a new ChatManager
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ChatManager$new()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ChatManager-start_generation"></a>}}
\if{latex}{\out{\hypertarget{method-ChatManager-start_generation}{}}}
\subsection{Method \code{start_generation()}}{
Start async text generation
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ChatManager$start_generation(model, messages, system = NULL, tools = NULL)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{model}}{The model (will be serialized for bg process)}

\item{\code{messages}}{The message history}

\item{\code{system}}{The system prompt}

\item{\code{tools}}{The tools list}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ChatManager-poll"></a>}}
\if{latex}{\out{\hypertarget{method-ChatManager-poll}{}}}
\subsection{Method \code{poll()}}{
Poll for new output and status
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ChatManager$poll()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
List with text, done, waiting_tool, tool_call, error
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ChatManager-resolve_tool"></a>}}
\if{latex}{\out{\hypertarget{method-ChatManager-resolve_tool}{}}}
\subsection{Method \code{resolve_tool()}}{
Resolve a tool call with result
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ChatManager$resolve_tool(result)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{result}}{The tool execution result}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ChatManager-cleanup"></a>}}
\if{latex}{\out{\hypertarget{method-ChatManager-cleanup}{}}}
\subsection{Method \code{cleanup()}}{
Cleanup resources
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ChatManager$cleanup()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ChatManager-clone"></a>}}
\if{latex}{\out{\hypertarget{method-ChatManager-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ChatManager$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
