% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/project_memory.R
\name{ProjectMemory}
\alias{ProjectMemory}
\title{Project Memory Class}
\description{
R6 class for managing persistent project memory using SQLite.
Stores code snippets, error fixes, and execution graphs for
resuming failed long-running jobs.
}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{db_path}}{Path to the SQLite database file.}

\item{\code{project_root}}{Root directory of the project.}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-ProjectMemory-new}{\code{ProjectMemory$new()}}
\item \href{#method-ProjectMemory-store_snippet}{\code{ProjectMemory$store_snippet()}}
\item \href{#method-ProjectMemory-store_fix}{\code{ProjectMemory$store_fix()}}
\item \href{#method-ProjectMemory-find_similar_fix}{\code{ProjectMemory$find_similar_fix()}}
\item \href{#method-ProjectMemory-search_snippets}{\code{ProjectMemory$search_snippets()}}
\item \href{#method-ProjectMemory-store_workflow_node}{\code{ProjectMemory$store_workflow_node()}}
\item \href{#method-ProjectMemory-update_node_status}{\code{ProjectMemory$update_node_status()}}
\item \href{#method-ProjectMemory-get_workflow}{\code{ProjectMemory$get_workflow()}}
\item \href{#method-ProjectMemory-get_resumable_nodes}{\code{ProjectMemory$get_resumable_nodes()}}
\item \href{#method-ProjectMemory-store_conversation}{\code{ProjectMemory$store_conversation()}}
\item \href{#method-ProjectMemory-get_conversation}{\code{ProjectMemory$get_conversation()}}
\item \href{#method-ProjectMemory-stats}{\code{ProjectMemory$stats()}}
\item \href{#method-ProjectMemory-clear}{\code{ProjectMemory$clear()}}
\item \href{#method-ProjectMemory-print}{\code{ProjectMemory$print()}}
\item \href{#method-ProjectMemory-clone}{\code{ProjectMemory$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ProjectMemory-new"></a>}}
\if{latex}{\out{\hypertarget{method-ProjectMemory-new}{}}}
\subsection{Method \code{new()}}{
Create or connect to a project memory database.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ProjectMemory$new(project_root = getwd(), db_name = "memory.sqlite")}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{project_root}}{Project root directory. Defaults to current working directory.}

\item{\code{db_name}}{Database filename. Defaults to "memory.sqlite".}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A new ProjectMemory object.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ProjectMemory-store_snippet"></a>}}
\if{latex}{\out{\hypertarget{method-ProjectMemory-store_snippet}{}}}
\subsection{Method \code{store_snippet()}}{
Store a successful code snippet for future reference.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ProjectMemory$store_snippet(
  code,
  description = NULL,
  tags = NULL,
  context = NULL
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{code}}{The R code that was executed successfully.}

\item{\code{description}}{Optional description of what the code does.}

\item{\code{tags}}{Optional character vector of tags for categorization.}

\item{\code{context}}{Optional context about when/why this code was used.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
The ID of the stored snippet.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ProjectMemory-store_fix"></a>}}
\if{latex}{\out{\hypertarget{method-ProjectMemory-store_fix}{}}}
\subsection{Method \code{store_fix()}}{
Store an error fix for learning.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ProjectMemory$store_fix(
  original_code,
  error,
  fixed_code,
  fix_description = NULL
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{original_code}}{The code that produced the error.}

\item{\code{error}}{The error message.}

\item{\code{fixed_code}}{The corrected code.}

\item{\code{fix_description}}{Description of what was fixed.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
The ID of the stored fix.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ProjectMemory-find_similar_fix"></a>}}
\if{latex}{\out{\hypertarget{method-ProjectMemory-find_similar_fix}{}}}
\subsection{Method \code{find_similar_fix()}}{
Find a similar fix from memory.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ProjectMemory$find_similar_fix(error)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{error}}{The error message to match.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A list with the fix details, or NULL if not found.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ProjectMemory-search_snippets"></a>}}
\if{latex}{\out{\hypertarget{method-ProjectMemory-search_snippets}{}}}
\subsection{Method \code{search_snippets()}}{
Search for relevant code snippets.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ProjectMemory$search_snippets(query, limit = 10)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{query}}{Search query (matches description, tags, or code).}

\item{\code{limit}}{Maximum number of results.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A data frame of matching snippets.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ProjectMemory-store_workflow_node"></a>}}
\if{latex}{\out{\hypertarget{method-ProjectMemory-store_workflow_node}{}}}
\subsection{Method \code{store_workflow_node()}}{
Store execution graph node for workflow persistence.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ProjectMemory$store_workflow_node(
  workflow_id,
  node_id,
  node_type,
  code,
  status = "pending",
  result = NULL,
  dependencies = NULL
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{workflow_id}}{Unique identifier for the workflow.}

\item{\code{node_id}}{Unique identifier for this node.}

\item{\code{node_type}}{Type of node (e.g., "transform", "model", "output").}

\item{\code{code}}{The code for this node.}

\item{\code{status}}{Node status ("pending", "running", "completed", "failed").}

\item{\code{result}}{Optional serialized result.}

\item{\code{dependencies}}{Character vector of node IDs this depends on.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
The database row ID.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ProjectMemory-update_node_status"></a>}}
\if{latex}{\out{\hypertarget{method-ProjectMemory-update_node_status}{}}}
\subsection{Method \code{update_node_status()}}{
Update workflow node status.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ProjectMemory$update_node_status(workflow_id, node_id, status, result = NULL)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{workflow_id}}{Workflow identifier.}

\item{\code{node_id}}{Node identifier.}

\item{\code{status}}{New status.}

\item{\code{result}}{Optional result to store.}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ProjectMemory-get_workflow"></a>}}
\if{latex}{\out{\hypertarget{method-ProjectMemory-get_workflow}{}}}
\subsection{Method \code{get_workflow()}}{
Get workflow state for resuming.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ProjectMemory$get_workflow(workflow_id)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{workflow_id}}{Workflow identifier.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A list with workflow nodes and their states.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ProjectMemory-get_resumable_nodes"></a>}}
\if{latex}{\out{\hypertarget{method-ProjectMemory-get_resumable_nodes}{}}}
\subsection{Method \code{get_resumable_nodes()}}{
Resume a failed workflow from the last successful point.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ProjectMemory$get_resumable_nodes(workflow_id)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{workflow_id}}{Workflow identifier.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
List of node IDs that need to be re-executed.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ProjectMemory-store_conversation"></a>}}
\if{latex}{\out{\hypertarget{method-ProjectMemory-store_conversation}{}}}
\subsection{Method \code{store_conversation()}}{
Store a conversation turn for context.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ProjectMemory$store_conversation(session_id, role, content, metadata = NULL)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{session_id}}{Session identifier.}

\item{\code{role}}{Message role ("user", "assistant", "system").}

\item{\code{content}}{Message content.}

\item{\code{metadata}}{Optional metadata list.}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ProjectMemory-get_conversation"></a>}}
\if{latex}{\out{\hypertarget{method-ProjectMemory-get_conversation}{}}}
\subsection{Method \code{get_conversation()}}{
Get conversation history for a session.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ProjectMemory$get_conversation(session_id, limit = 100)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{session_id}}{Session identifier.}

\item{\code{limit}}{Maximum number of messages.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A data frame of conversation messages.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ProjectMemory-stats"></a>}}
\if{latex}{\out{\hypertarget{method-ProjectMemory-stats}{}}}
\subsection{Method \code{stats()}}{
Get memory statistics.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ProjectMemory$stats()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
A list with counts and sizes.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ProjectMemory-clear"></a>}}
\if{latex}{\out{\hypertarget{method-ProjectMemory-clear}{}}}
\subsection{Method \code{clear()}}{
Clear all memory (use with caution).
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ProjectMemory$clear(confirm = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{confirm}}{Must be TRUE to proceed.}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ProjectMemory-print"></a>}}
\if{latex}{\out{\hypertarget{method-ProjectMemory-print}{}}}
\subsection{Method \code{print()}}{
Print method for ProjectMemory.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ProjectMemory$print()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ProjectMemory-clone"></a>}}
\if{latex}{\out{\hypertarget{method-ProjectMemory-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ProjectMemory$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
