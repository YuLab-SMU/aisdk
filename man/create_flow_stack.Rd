% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/flow_stack.R
\name{create_flow_stack}
\alias{create_flow_stack}
\title{Create a FlowStack}
\usage{
create_flow_stack(
  session,
  model,
  registry = NULL,
  max_depth = 5,
  max_steps_per_agent = 10,
  enable_guardrails = TRUE
)
}
\arguments{
\item{session}{A SharedSession or ChatSession object.}

\item{model}{The default model ID to use.}

\item{registry}{Optional AgentRegistry for agent lookup.}

\item{max_depth}{Maximum delegation depth. Default 5.}

\item{max_steps_per_agent}{Maximum ReAct steps per agent. Default 10.}

\item{enable_guardrails}{Enable safety guardrails. Default TRUE.}
}
\value{
A FlowStack object.
}
\description{
Factory function to create a new FlowStack object for enhanced multi-agent orchestration.
}
\examples{
\dontrun{
# Create enhanced multi-agent flow
session <- create_shared_session(model = "openai:gpt-4o")
registry <- create_agent_registry(list(
  create_data_agent(),
  create_file_agent(),
  create_coder_agent()
))

flow <- create_flow_stack(
  session = session,
  model = "openai:gpt-4o",
  registry = registry,
  enable_guardrails = TRUE
)

# Run with unified delegate_task tool
manager <- create_agent("Manager", "Coordinates data analysis tasks")
result <- flow$run(manager, "Load sales.csv and create a summary report")

# Check delegation stats
print(flow$delegation_stats())
}
}
